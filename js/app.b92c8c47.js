(function(){"use strict";var e={9309:function(e,t,n){var o=n(9242),i=n(3396),a=n(7139);const r={class:"navbar navbar-toggleable-md navbar-light bg-faded"},l={class:"",id:"navbarNav"},s={class:"navbar-home"},u={class:"navbar-nav"};function c(e,t,n,o,c,d){const p=(0,i.up)("router-link"),g=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("nav",r,[(0,i._)("div",l,[(0,i._)("div",s,[(0,i.Wm)(p,{to:"/",class:"nav-link"},{default:(0,i.w5)((()=>[(0,i.Uk)("TéléFun")])),_:1})]),(0,i._)("ul",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.routes,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"nav-item",key:e.path},[(0,i.Wm)(p,{to:e.path,class:"nav-link"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(e.name),1)])),_:2},1032,["to"])])))),128))])])]),(0,i.Wm)(g,{class:"view"})])}var d=n(2483),p=n(8541);const{cookies:g}=(0,p.fP)();let h;h=null==g.get("bearer_token")?[{name:"Contact",path:"/contact"},{name:"A propos",path:"/about"},{name:"Se connecter",path:"/login"}]:[{name:"Blagues",path:"/joke"},{name:"Liste d'attente",path:"/waiting_list"},{name:"Configuration",path:"/userconfig"},{name:"Contact",path:"/contact"},{name:"A propos",path:"/about"},{name:"Se déconnecter",path:"/logout"}];var v={data:()=>({routes:h}),name:"App",components:{RouterLink:d.rH,RouterView:d.MA}},f=n(89);const m=(0,f.Z)(v,[["render",c]]);var _=m;const b=(0,i._)("div",{class:"banner"},[(0,i._)("h1",null,"TéléFun")],-1),k=(0,i._)("div",{class:"content"},[(0,i._)("p",null," TéléFun est un robot autonome ayant pour vocation de se diriger dans les bâtiments de Télécom Paris. Il se donne pour objectif de divertir les personnels et étudiants de l'école. ")],-1),w=[b,k];function j(e,t,n,o,a,r){return(0,i.wg)(),(0,i.iD)("div",null,w)}var y={name:"HomePage"};const T=(0,f.Z)(y,[["render",j]]);var P=T;const O=(0,i._)("div",{class:"content"},[(0,i._)("h1",null,"À propos"),(0,i._)("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit.")],-1),z=[O];function D(e,t){return(0,i.wg)(),(0,i.iD)("div",null,z)}const B={},A=(0,f.Z)(B,[["render",D]]);var L=A;const x={class:"logout-page"},E=(0,i._)("h1",null,"Vous avez été déconnecté",-1),S=(0,i._)("p",null,"Vous allez être redirigé vers la page d'accueil",-1),F=[E,S];function H(e,t,n,o,a,r){return(0,i.wg)(),(0,i.iD)("div",x,F)}var Z={name:"LogoutPage",beforeMount(){fetch("https://api.telefun.eu.org/api/auth/logout",{method:"GET",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token")}}),setTimeout((()=>{window.location.href="/"}),500);const{cookies:e}=(0,p.fP)();e.remove("email","/",".telefun.eu.org"),e.remove("name","/",".telefun.eu.org"),e.remove("bearer_token","/",".telefun.eu.org")}};const J=(0,f.Z)(Z,[["render",H]]);var W=J;const C=(0,i._)("div",{class:"content"},[(0,i._)("h1",null,"Redirection vers le SSO de Rezel"),(0,i._)("p",null," Si vous n'êtes pas redirigé, c'est que vous n'êtes pas sur le réseau Campus-Télécom ou connecté au VPN. "),(0,i._)("p",null,"Il nous est donc impossible de vous identifier.")],-1),M=[C];function G(e,t,n,o,a,r){return(0,i.wg)(),(0,i.iD)("div",null,M)}function I(){fetch("https://api.telefun.eu.org/api/auth/state",{method:"GET",credentials:"include"}).then((()=>{window.location.href="https://api.telefun.eu.org/api/auth/login?callbackUrl=https://telefun.eu.org/"})).catch((()=>{setTimeout((()=>{I()}),5e3)}))}var V={name:"LoginPage",beforeMount(){I()}};const $=(0,f.Z)(V,[["render",G]]);var K=$;const N={class:"content"},R=(0,i._)("h1",null,"Des blagues !",-1),Y={class:"jokes"},U=(0,i._)("h2",null,"Mes blagues",-1),q=(0,i._)("h2",null,"Ajouter une nouvelle blague",-1),Q={class:"containerGlobal"},X=["onsubmit"],ee=(0,i.uE)('<div class="containerB"><div class="item"><div class="flex_container"><div class="flex_items"><input type="text" name="title" id="title" class="placeHolder" placeholder="Titre"></div><div class="flex_items"><input type="text" name="content" id="content" class="placeHolder" placeholder="Blague"></div></div></div><button class="btn" type="submit">Ajouter</button></div>',1),te=[ee],ne=(0,i._)("p",null,"Sélectionnez une blague à insérer en fin de file d'attente :",-1),oe={class:"containerB"},ie={class:"flex_container"},ae={name:"myBlague",method:"post",id:"add_joke_waiting_list"},re=["value"],le=["onclick"];function se(e,t,n,o,r,l){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",N,[R,(0,i._)("div",Y,[(0,i._)("div",null,[U,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.getJokes(),(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},(0,a.zw)(e.title)+" - "+(0,a.zw)(e.content),1)))),128))])]),(0,i._)("div",null,[q,(0,i._)("div",Q,[(0,i._)("form",{name:"myForm",onsubmit:l.submitForm,method:"post",id:"add_joke"},te,8,X),(0,i._)("div",null,[(0,i._)("div",null,[ne,(0,i._)("div",oe,[(0,i._)("div",ie,[(0,i._)("select",ae,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.getJokes(),(e=>((0,i.wg)(),(0,i.iD)("option",{value:e.id,key:e.id},(0,a.zw)(e.title),9,re)))),128))]),(0,i._)("button",{class:"btn1",onclick:l.submitBlague,type:"click"},"Ajouter",8,le)])])])])])])])])])}var ue={name:"JokePage",data(){return{jokes:[]}},methods:{getJokes(){return this.jokes},submitForm(){return console.log("APPEL form"),fetch("https://api.telefun.eu.org/api/joke",{method:"POST",body:JSON.stringify({title:document.getElementById("title").value,content:document.getElementById("content").value}),dataType:"json",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token"),"content-type":"application/json"}}),!1},submitBlague(){return console.log("APPEL"),fetch("https://api.telefun.eu.org/api/waiting_list",{method:"POST",body:JSON.stringify({joke_id:document.getElementById("add_joke_waiting_list").value}),dataType:"json",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token"),"content-type":"application/json"}}),!1}},created(){fetch("https://api.telefun.eu.org/api/joke",{method:"GET",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token")}}).then((e=>e.json())).then((e=>{this.jokes=e}))}};const ce=(0,f.Z)(ue,[["render",se]]);var de=ce;const pe={class:"flex-waiting content"},ge={class:"waiting-list"},he=(0,i._)("h1",null,"Waiting List",-1),ve=(0,i._)("p",null," Vous pouvez voir ici la liste des blagues en attente, quand votre blague sera en première place ce sera la prochaine à être exécuté: ",-1);function fe(e,t,n,o,r,l){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",pe,[(0,i._)("div",ge,[he,ve,(0,i._)("h2",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.getWaitingList(),(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.id},(0,a.zw)(e.joke.title)+" - "+(0,a.zw)(e.joke.content),1)))),128))])])])])}var me={name:"WaitingListPage",data(){return{waitingList:[],jokes:[]}},methods:{getWaitingList(){return this.waitingList},getJokes(){return this.jokes}},created(){fetch("https://api.telefun.eu.org/api/waiting_list",{method:"GET",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token")}}).then((e=>e.json())).then((e=>{this.waitingList=e}))}};const _e=(0,f.Z)(me,[["render",fe]]);var be=_e;let ke=d.p7({history:d.PO(),routes:[{path:"/",component:P},{path:"/waiting_list",component:be},{path:"/joke",component:de},{path:"/about",component:L},{path:"/logout",component:W},{path:"/login",component:K},{path:"/:pathMatch(.*)*",redirect:"/"}]});var we=ke;const je=o.ri(_);je.use(p.ZP),je.use(we),je.mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,a){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],a=e[c][2];for(var l=!0,s=0;s<o.length;s++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(l=!1,a<r&&(r=a));if(l){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,r=o[0],l=o[1],s=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var c=s(n)}for(t&&t(o);u<r.length;u++)a=r[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkTeleFun"]=self["webpackChunkTeleFun"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9309)}));o=n.O(o)})();
//# sourceMappingURL=app.b92c8c47.js.map