(function(){"use strict";var e={9418:function(e,t,n){var o=n(9242),a=n(3396),i=n(7139);const r={class:"navbar navbar-toggleable-md navbar-light bg-faded"},s={class:"",id:"navbarNav"},l={class:"navbar-home"},u={class:"navbar-nav"};function c(e,t,n,o,c,d){const p=(0,a.up)("router-link"),h=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("nav",r,[(0,a._)("div",s,[(0,a._)("div",l,[(0,a.Wm)(p,{to:"/",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Uk)("TéléFun")])),_:1})]),(0,a._)("ul",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.routes,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"nav-item",key:e.path},[(0,a.Wm)(p,{to:e.path,class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.name),1)])),_:2},1032,["to"])])))),128))])])]),(0,a.Wm)(h,{class:"view"})])}var d=n(2483),p=n(8541);const{cookies:h}=(0,p.fP)();let g;g=null==h.get("bearer_token")?[{name:"Contact",path:"/contact"},{name:"A propos",path:"/about"},{name:"Se connecter",path:"/login"}]:[{name:"Blagues",path:"/joke"},{name:"Liste d'attente",path:"/waiting_list"},{name:"Configuration",path:"/admin"},{name:"Contact",path:"/contact"},{name:"A propos",path:"/about"},{name:"Se déconnecter",path:"/logout"}];var v={data:()=>({routes:g}),name:"App",components:{RouterLink:d.rH,RouterView:d.MA}},m=n(89);const f=(0,m.Z)(v,[["render",c]]);var _=f;const b=(0,a._)("div",{class:"banner"},[(0,a._)("h1",null,"TéléFun")],-1),k=(0,a._)("div",{class:"content"},[(0,a._)("p",null," TéléFun est un robot autonome ayant pour vocation de se diriger dans les bâtiments de Télécom Paris. Il se donne pour objectif de divertir les personnels et étudiants de l'école. ")],-1),w=[b,k];function j(e,t,n,o,i,r){return(0,a.wg)(),(0,a.iD)("div",null,w)}var y={name:"HomePage"};const T=(0,m.Z)(y,[["render",j]]);var z=T;const P=(0,a._)("div",{class:"content"},[(0,a._)("h1",null,"À propos"),(0,a._)("p",null," TéléFun est un robot autonome conçu pour naviguer dans les couloirs de l'école, en divertissant les étudiants, le personnel et les visiteurs avec ses blagues hilarantes. Grâce à ses capteurs sophistiqués et à son système de navigation précis, TéléFun est capable de se déplacer en toute sécurité dans les couloirs bondés, en évitant les obstacles et en assurant la sécurité des personnes qui l'entourent. "),(0,a._)("p",null," Avec sa personnalité attachante et son sens de l'humour infaillible, TéléFun est maintenant un membre apprécié et un pilier de Télécom Paris. "),(0,a._)("p",null," Alors, si vous avez besoin d'une pause hilarante au milieu de votre journée chargée, cherchez TéléFun dans les couloirs de l'école et laissez-le vous faire sourire ! ")],-1),B=[P];function D(e,t){return(0,a.wg)(),(0,a.iD)("div",null,B)}const A={},O=(0,m.Z)(A,[["render",D]]);var E=O;const L={class:"logout-page"},x=(0,a._)("h1",null,"Vous avez été déconnecté",-1),F=(0,a._)("p",null,"Vous allez être redirigé vers la page d'accueil",-1),J=[x,F];function S(e,t,n,o,i,r){return(0,a.wg)(),(0,a.iD)("div",L,J)}var Z={name:"LogoutPage",beforeMount(){fetch("https://api.telefun.eu.org/api/auth/logout",{method:"GET",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token")}}),setTimeout((()=>{window.location.href="/"}),500);const{cookies:e}=(0,p.fP)();e.remove("email","/",".telefun.eu.org"),e.remove("name","/",".telefun.eu.org"),e.remove("bearer_token","/",".telefun.eu.org")}};const $=(0,m.Z)(Z,[["render",S]]);var C=$;const H=(0,a._)("div",{class:"content"},[(0,a._)("h1",null,"Redirection vers le SSO de Rezel"),(0,a._)("p",null," Si vous n'êtes pas redirigé, c'est que vous n'êtes pas sur le réseau Campus-Télécom ou connecté au VPN. "),(0,a._)("p",null,"Il nous est donc impossible de vous identifier.")],-1),M=[H];function V(e,t,n,o,i,r){return(0,a.wg)(),(0,a.iD)("div",null,M)}function G(){fetch("https://api.telefun.eu.org/api/auth/state",{method:"GET",credentials:"include"}).then((()=>{window.location.href="https://api.telefun.eu.org/api/auth/login?callbackUrl=https://telefun.eu.org/"})).catch((()=>{setTimeout((()=>{G()}),5e3)}))}var U={name:"LoginPage",beforeMount(){G()}};const W=(0,m.Z)(U,[["render",V]]);var q=W;const I={class:"content"},N=(0,a._)("h1",null,"Des blagues !",-1),K={class:"jokes"},Y=(0,a._)("h2",null,"Mes blagues",-1),R=(0,a._)("h2",null,"Ajouter une nouvelle blague",-1),Q={class:"containerGlobal"},X=["onsubmit"],ee=(0,a.uE)('<div class="containerB"><div class="item"><div class="flex_container"><div class="flex_items"><input type="text" name="title" id="title" class="placeHolder" placeholder="Titre"></div><div class="flex_items"><textarea name="content" id="content" cols="30" rows="5" class="placeHolder" placeholder="Blague"></textarea></div></div></div><button class="btn" type="submit">Ajouter</button></div>',1),te=[ee],ne=(0,a._)("p",null,"Sélectionnez une blague à insérer en fin de file d'attente :",-1),oe={class:"containerB"},ae={class:"flex_container"},ie={name:"myBlague",method:"post",id:"add_joke_waiting_list"},re=["value"],se=["onclick"];function le(e,t,n,o,r,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",I,[N,(0,a._)("div",K,[(0,a._)("div",null,[Y,(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.getJokes(),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id},(0,i.zw)(e.title)+" - "+(0,i.zw)(e.content),1)))),128))])]),(0,a._)("div",null,[R,(0,a._)("div",Q,[(0,a._)("form",{name:"myForm",onsubmit:s.submitForm,method:"post",id:"add_joke",disabled:"disabled"},te,8,X),(0,a._)("div",null,[(0,a._)("div",null,[ne,(0,a._)("div",oe,[(0,a._)("div",ae,[(0,a._)("select",ie,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.getJokes(),(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,i.zw)(e.title),9,re)))),128))]),(0,a._)("button",{class:"btn1",onclick:s.submitBlague,type:"click"},"Ajouter",8,se)])])])])])])])])])}var ue={name:"JokePage",data(){return{jokes:[]}},methods:{getJokes(){return this.jokes},submitForm(){return fetch("https://api.telefun.eu.org/api/joke",{method:"POST",body:JSON.stringify({title:document.getElementById("title").value,content:document.getElementById("content").value}),dataType:"json",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token"),"content-type":"application/json"}}),alert("La blague a bien été ajoutée à la base de données ! Elle est en attente de modération."),!1},submitBlague(){return console.log("APPEL"),fetch("https://api.telefun.eu.org/api/waiting_list",{method:"POST",body:JSON.stringify({joke_id:document.getElementById("add_joke_waiting_list").value}),dataType:"json",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token"),"content-type":"application/json"}}),alert("La blague a bien été ajoutée à la waiting list !"),!1}},created(){fetch("https://api.telefun.eu.org/api/joke",{method:"GET",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token")}}).then((e=>e.json())).then((e=>{this.jokes=e}))}};const ce=(0,m.Z)(ue,[["render",le]]);var de=ce;const pe={class:"flex-waiting content"},he={class:"waiting-list"},ge=(0,a._)("h1",null,"Waiting List",-1),ve=(0,a._)("p",null," Vous pouvez voir ici la liste des blagues en attente, quand votre blague sera en première place ce sera la prochaine à être exécuté: ",-1);function me(e,t,n,o,r,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",pe,[(0,a._)("div",he,[ge,ve,(0,a._)("h2",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.getWaitingList(),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id},(0,i.zw)(e.joke.title)+" - "+(0,i.zw)(e.joke.content),1)))),128))])])])])}var fe={name:"WaitingListPage",data(){return{waitingList:[],jokes:[]}},methods:{getWaitingList(){return this.waitingList},getJokes(){return this.jokes}},created(){fetch("https://api.telefun.eu.org/api/waiting_list",{method:"GET",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token")}}).then((e=>e.json())).then((e=>{this.waitingList=e}))}};const _e=(0,m.Z)(fe,[["render",me]]);var be=_e;const ke=(0,a._)("div",{class:"content"},[(0,a._)("h1",null,"Contact"),(0,a._)("p",null,"Un problème, une question ? N'hésitez pas à nous contacter via le formulaire suivant !"),(0,a._)("form",{action:"https://formspree.io/f/mnqygoyb",method:"POST",id:"formspree"},[(0,a._)("label",null,[(0,a.Uk)(" Votre email : "),(0,a._)("input",{type:"email",name:"email"})]),(0,a._)("label",null,[(0,a.Uk)(" Votre message : "),(0,a._)("br"),(0,a._)("textarea",{name:"message"})]),(0,a._)("button",{type:"submit"},"Envoyer")])],-1),we=[ke];function je(e,t){return(0,a.wg)(),(0,a.iD)("div",null,we)}const ye={},Te=(0,m.Z)(ye,[["render",je]]);var ze=Te;const Pe={class:"content"},Be=(0,a._)("h1",null,"Des blagues !",-1),De={class:"jokes"},Ae=(0,a._)("h2",null,"Modération",-1),Oe=["onClick"];function Ee(e,t,n,o,r,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Pe,[Be,(0,a._)("div",De,[(0,a._)("div",null,[Ae,(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.getToModerateJokes(),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id},[(0,a._)("span",null,(0,i.zw)(e.title)+" - "+(0,i.zw)(e.content),1),(0,a._)("button",{class:"btn_validate",onClick:t=>s.validateJoke(e.id),type:"click"},"Valider",8,Oe)])))),128))])])])])])}n(7658);var Le={name:"JokePage",data(){return{jokes:[]}},methods:{getToModerateJokes(){return this.jokes},validateJoke(e){return fetch("https://api.telefun.eu.org/api/joke?joke_id="+e,{method:"PUT",dataType:"json",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token"),"content-type":"application/json"}}),alert("La blague a été validée !"),!1},submitBlague(){return console.log("APPEL"),fetch("https://api.telefun.eu.org/api/waiting_list",{method:"POST",body:JSON.stringify({joke_id:document.getElementById("add_joke_waiting_list").value}),dataType:"json",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token"),"content-type":"application/json"}}),!1}},created(){fetch("https://api.telefun.eu.org/api/auth/state",{method:"GET",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token")}}).then((e=>e.json())).then((e=>{e.admin||this.$router.push("/"),fetch("https://api.telefun.eu.org/api/joke/toValidate",{method:"GET",headers:{Authorization:"Bearer "+this.$cookies.get("bearer_token")}}).then((e=>e.json())).then((e=>{this.jokes=e}))}))}};const xe=(0,m.Z)(Le,[["render",Ee]]);var Fe=xe;let Je=d.p7({history:d.PO(),routes:[{path:"/",component:z},{path:"/waiting_list",component:be},{path:"/joke",component:de},{path:"/about",component:E},{path:"/admin",component:Fe},{path:"/contact",component:ze},{path:"/logout",component:C},{path:"/login",component:q},{path:"/:pathMatch(.*)*",redirect:"/"}]});var Se=Je;const Ze=o.ri(_);Ze.use(p.ZP),Ze.use(Se),Ze.mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,i){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],i=e[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,i<r&&(r=i));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,i,r=o[0],s=o[1],l=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var c=l(n)}for(t&&t(o);u<r.length;u++)i=r[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunkTeleFun"]=self["webpackChunkTeleFun"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9418)}));o=n.O(o)})();
//# sourceMappingURL=app.194f2124.js.map